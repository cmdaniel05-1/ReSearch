{% block content %}

{% set unique_id = 'info_' ~ range(1000, 99999) | random %} {# Generates a (most likely) unique ID for each card #}

<div class="card mb-3 mt-4">
    <button
        class="card-header btn btn-link text-decoration-none w-100 d-flex justify-content-between align-items-center toggle-btn"
        type="button" data-bs-toggle="collapse" data-bs-target="#{{ unique_id }}" aria-expanded="false"
        aria-controls="{{ unique_id }}">
        {{p.title}} <span class="bi bi-caret-down-fill icon"></span>
    </button>
    <div class="collapse" id="{{ unique_id }}">
        <div class="card-body">
            <p><strong>Description:</strong> {{p.description}}</p>
            <p><strong>Dates:</strong> {{p.start_date}} to {{p.end_date}}</p>
            <p><strong>Number Hiring:</strong> {{p.student_count}} students</p>
            <p><strong>Time Commitment:</strong> {{p.req_time}} hours per week</p>
            <p><strong>Research Field(s):</strong>
                {% for f in p.fields %}
                <span class="rounded-pill border border-1 m-1 p-2">
                    {{f.name}}
                </span>
                {% endfor %}
            </p>
            <p><strong>Programming Experience Required:</strong>
                {% for l in p.languages %}
                <span class="rounded-pill border border-1 m-1 p-2">
                    {{l.name}}
                </span>
                {% endfor %}
            </p>
            <p><strong>Faculty Member:</strong>
                <span class="rounded-pill border border-1 m-1 p-2">
                    {{p.faculty.firstname}} {{p.faculty.lastname}}
                </span>
            </p>
            <button class="btn btn-secondary">Apply</button>
        </div>
    </div>
</div>

{% endblock %}